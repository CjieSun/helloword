/*!
 * pbp | v3.6.2
 * 2021-2-1 7:50:25 â”œF10: PMâ”¤
 * wushiyang <wushiyang@bilibili.com>, lipengcheng <lipengcheng@bilibili.com>, tangjunxing <tangjunxing@bilibili.com>
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).BiliPBP=t()}(this,function(){"use strict";function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var i=0;i<t.length;i++){var a=t[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function i(e,t,i){return t&&a(e.prototype,t),i&&a(e,i),e}var r=function(){function e(){t(this,e),this.requestQueue=[]}return i(e,[{key:"getDatabase",value:function(e){var t=new n(e);return this.requestQueue.push(t),t}}]),e}(),n=function(){function e(i){var a=this;t(this,e),this._instance=window.indexedDB.open(i.service+i.version,1),this.onReady=i.onReady||function(){return null},this.onFirstCreate=i.onFirstCreate||function(){return null},this.isReady=!1,this._dbStore=null,this._instance.onerror=function(e){console.error("IDB error"+e)},this._instance.onsuccess=function(e){a._dbStore=a._instance.result,a.isReady=!0,i.onReady()},this._instance.onupgradeneeded=function(e){var t=e.target.result;t.objectStoreNames.contains("pbpZebraCache")||t.createObjectStore("pbpZebraCache",{keyPath:"cid"}),a._dbStore=t,i.onFirstCreate()}}return i(e,[{key:"get",value:function(a,r){var n=this;return new Promise(function(t,e){var i;n.isReady?((i=n._dbStore.transaction(["pbpZebraCache"]).objectStore("pbpZebraCache").get(a)).onerror=function(e){t(r,e)},i.onsuccess=function(e){i.result?t(i.result):t(r)}):e(new Error)})}},{key:"set",value:function(a,r){var n=this;return new Promise(function(t,i){var e;n.isReady?((e=n._dbStore.transaction(["pbpZebraCache"],"readwrite")).oncomplete=function(e){t(!0)},e.onerror=function(e){i(e)},a.expireTime=Date.parse(new Date)+r,e.objectStore("pbpZebraCache").put(a)):i(new Error)})}},{key:"checkExpire",value:function(t){var i=this;t?this.get(t,!1).then(function(e){e&&e.expireTime<Date.parse(new Date)&&(i._dbStore.transaction(["pbpZebraCache"],"readwrite").objectStore("pbpZebraCache").delete(t).onsuccess=function(e){})}):this._dbStore.transaction(["pbpZebraCache"],"readwrite").objectStore("pbpZebraCache").openCursor().onsuccess=function(e){var t=e.target.result;t&&(i.checkExpire(t.key),t.continue())}}}]),e}();r.getInstance=function(e){return window.indexedDbHelperV1||(window.indexedDbHelperV1=new r),window.indexedDbHelperV1.getDatabase(e)},r.isSupport=function(){return!!window.indexedDB};function o(e,t){var i=localStorage.getItem(e);return null==i&&s(e,t),i||t}var s=function(e,t){localStorage.setItem(e,t)},d="bilibili_pbp",l="bilibili-player-video-control",p="bilibili_pbp_pin",u=1e3,e="3.6.2",h={l:16,m:28,h:32},c={l:.5,m:.2,h:.1},b={b:{fillColor:"255,255,255",playedColor:"35,173,229"},p:{fillColor:"255,255,255",playedColor:"251,114,153"},r:{fillColor:"255,255,255",playedColor:"178,45,67"},g:{fillColor:"255,255,255",playedColor:"11,163,150"}};return function(){function a(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(t(this,a),this.options=e,this._clearStore(),this._status="wait",this._pbptag={},this._pbptagstr="",this._player=e.player||window.player,!this._player)throw new Error("Can not get the player instance");if(this._isNewPlayer=e.isNewPlayer,this._containerClassName=e.containerClassName,this._isNewPlayer&&!this._containerClassName)throw new Error("Can not get the containerId argument");this._container=document.getElementsByClassName(this._isNewPlayer?this._containerClassName:l)[0]}return i(a,null,[{key:"isSupport",value:function(){return!!(window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver)&&(!!Promise&&(!(!localStorage&&!sessionStorage)&&!!r.isSupport()))}}]),i(a,[{key:"init",value:function(e,t){var h=this,i=0<arguments.length&&void 0!==e?e:"default",c=1<arguments.length&&void 0!==t?t:function(){};if("destroy"===this._status&&(this._status="wait"),!a.isSupport())return this._debugLog("init unsupported"),this.destroy(),c(new Error("environment not support"));this.eventKey=this.pbpDebugKey||i||"default",this._debugLog("init key =",this.eventKey),this._injectBiliPlayer().then(function(){return"destroy"===h._status?(h.destroy(),c(new Error("_status destroy"))):(h._debugLog("injectBiliPlayer complete"),h.aid&&h.cid?h.options&&h.options.data&&0<Object.keys(h.options.data).length?new Promise(function(e,t){e(h.options.data)}):new Promise(function(e,t){t(new Error("No Data."))}):c(new Error("aid || cid miss")))}).then(function(e){if("destroy"===h._status)return h.destroy(),c(new Error("_status destroy"));if(document.getElementById(d))return h.destroy(),c(new Error("old pbp not destroy"));if(h.video=document.querySelector("video")||document.querySelector("bwp-video"),!h.video)return h.destroy(),c(new Error("video element miss"));var t=e.step_sec,i=e.events,a=void 0===i?{}:i,r=e.tag,n=void 0===r?{}:r,o=e.tagstr,s=void 0===o?"":o,l=e.debug;h._pbptag=n,h._pbptagstr=s,h._debugLog("init api response debug: ",l);var p=a[h.eventKey];if(!p||!p.length||!t)return h.destroy(),h._debugLog("events[".concat(h.eventKey,"] length empty"),l),c(new Error("events[key] length empty"));h._debugLog("init async start: api.cidData complete",h.eventKey,p),h.st={name:h.eventKey,key:h.eventKey,points:h._calculatePercentage(p,t)},h._checkVersion(),h._recoverZebraDataFromCache(c,h.st)}).catch(function(e){c?c(e):console.error(e),h._debugLog(e)})}},{key:"show",value:function(){var e,t,i,a,r;"destroy"!==this._status&&"show"!==this._status&&this.st&&(this._status="show",this._debugLog("call show"),e=o("pbp_height_v3","m"),t=h[e]?h[e]:h.m,i=this._getPlayerState().gamePlayer?"-33":"3",this.pbpStyle=document.createElement("style"),a="#bilibili_pbp{display:flex;cursor:pointer;position:absolute;bottom:".concat(i,"px;left:-12px;width:calc(100% + 24px);height:").concat(t,"px;opacity:0;z-index:0}#bilibili_pbp.show{bottom:calc(100% - 2px);opacity:1;left:0;width:100%}.webfullscreen #bilibili_pbp.show,.bilibili-player.mode-fullscreen #bilibili_pbp.show{bottom:calc(100% + 4px + 1px)}.bui-thumb{z-index:1}.bilibili-player-video-toast-wrp{z-index:1000}.bui-slider .bui-track.bui-track-video-progress{height:4px !important;border-radius:0}.bui-slider .bui-track .bui-bar-wrap{border-radius:0}.bilibili-player-video-state{z-index:998}.video-control-show .subtitle-position.subtitle-position-bc{bottom:74px}.mode-fullscreen .video-control-show .subtitle-position.subtitle-position-bc{bottom:84px}.mode-webfullscreen .video-control-show .subtitle-position.subtitle-position-bc{bottom:84px}#bilibili_pbp.pin{opacity:1}.video-control-show .bilibili-player-video-interactive{margin-bottom:16px}.webfullscreen .bilibili-player-video-interactive,.mode-fullscreen .bilibili-player-video-interactive{margin-bottom:24px}#bilibili_pbp_pin{cursor:pointer;position:absolute;bottom:calc(8%);z-index:1;color:white;opacity:0;line-height:16px;text-align:center}.bilibili-player .bilibili-player-area.video-control-show #bilibili_pbp #bilibili_pbp_pin,.bilibili-player .bilibili-player-area .bilibili-player-video-control-wrap:hover #bilibili_pbp #bilibili_pbp_pin{right:-8px;opacity:1}.pbp-tips{position:absolute;font-size:12px;color:#fff;border-radius:4px;line-height:18px;padding:4px 8px;background-color:#000;background:rgba(0,0,0,.8);white-space:nowrap;right:0;top:0;display:none}#bilibili_pbp_pin:hover .pbp-tips{top:-30px;display:block;transition:all .3 ease-in-out;-webkit-transition:all .3 ease-in-out}.pbp-icon{width:16px;height:16px;background-size:contain;transform:rotate(45deg)}.pbp-icon:hover{transform:rotate(60deg) scale(1.2);transition:all .1s ease-in-out;-webkit-transition:all .1s ease-in-out}"),r="#bilibili_pbp{position:relative;display:flex;cursor:pointer;width:100%;height:".concat(t,"px;opacity:0;z-index:0}#bilibili_pbp.show{opacity:1}#bilibili_pbp.pin{opacity:1}#bilibili_pbp_pin{cursor:pointer;position:absolute;right:-8px;bottom:calc(8%);z-index:1;color:white;opacity:0;line-height:16px;text-align:center}#bilibili_pbp.show #bilibili_pbp_pin{opacity:1}.pbp-tips{position:absolute;font-size:12px;color:#fff;border-radius:4px;line-height:18px;padding:4px 8px;background-color:#000;background:rgba(0,0,0,.8);white-space:nowrap;right:0;top:0;display:none}#bilibili_pbp_pin:hover .pbp-tips{top:-30px;display:block;transition:all .3 ease-in-out;-webkit-transition:all .3 ease-in-out}.pbp-icon{width:16px;height:16px;background-size:contain;transform:rotate(45deg)}.pbp-icon:hover{transform:rotate(60deg) scale(1.2);transition:all .1s ease-in-out;-webkit-transition:all .1s ease-in-out}"),this.pbpStyle.innerHTML=this._isNewPlayer?r:a,document.head.appendChild(this.pbpStyle),this._updatePbpConfig(),this._create(),this._refresh(),this._observerChange(),this._initPin())}},{key:"hide",value:function(){if("destroy"!==this._status&&"hide"!==this._status&&(this._status="hide",this._debugLog("call hide"),this.pbp))try{this._container.removeChild(this.pbp),this.video&&this.video.removeEventListener("seeking",this.videoSeekingCallback),this._isNewPlayer?(this._player.off(window.nano.EventType.Player_Show_Controls,this.videoControlbarShowCallback),this._player.off(window.nano.EventType.Player_Hide_Controls,this.videoControlbarHideCallback),this._player.off(window.nano.EventType.Player_TimeUpdate,this.videoProgressUpdateCallback),window.removeEventListener("beforeunload",this.onbeforeunload)):(this._player.removeEventListener("video_controlbar",this.videoControlbarCallback),this._player.removeEventListener("video_heartbeat",this.videoHeartbeatCallback),this._player.removeEventListener("video_progress_update",this.videoProgressUpdateCallback)),this.pbpStyle&&document.head.removeChild(this.pbpStyle),this.themeStyle&&(document.head.removeChild(this.themeStyle),this.themeStyle=null)}catch(e){console.log(e)}}},{key:"destroy",value:function(){"destroy"!==this._status&&(this._debugLog("call destroy"),this.hide(),this._clearStore(),this._status="destroy",this._container=null)}},{key:"_clearStore",value:function(){this.st=null,this.aid=null,this.cid=null,this.pbpStyle=null,this.themeStyle=null,this.pbp=null,this.video=null,this.pbpComponent=null,this.timeLine=null,this.zebraStart=0,this.zebraEnd=null,this.zebraAreas=[],this.lastUpdateTime=null,this.firstRefreshFlag=!1,this.videoHeartbeatFirstFlag=!1,this.eventKey=null,this.pbpDebugApi=localStorage.getItem("pbp_debug_api")||"",this.pbpDebugKey=localStorage.getItem("pbp_debug_key")||"",this.debug=!!this.options.debug||"1"===localStorage.getItem("pbp_debug")}},{key:"_checkVersion",value:function(){this._debugLog("pbp.js version: ".concat(e)),localStorage.getItem("pbp_version")!==e&&localStorage.setItem("pbp_version",e)}},{key:"_setThemeStyle",value:function(e){this.themeStyle&&"show"===this._status&&document.head.removeChild(this.themeStyle),"1"===localStorage.getItem("pbpstate")&&(this.themeStyle=document.createElement("style"),this.themeStyle.innerHTML=".bui-slider .bui-track.bui-track-video-progress .bui-bar-normal.bui-bar.bui-bar-normal { background: rgba(".concat(e,", 1); }"),document.head.appendChild(this.themeStyle))}},{key:"_updatePbpConfig",value:function(){var e=o("pbp_theme_v4","b"),e=b[e]?b[e]:b.b,t=o("pbp_opacity_v3","m"),t=c[t]?c[t]:c.m;this.st.opacity=t,this.st.fillColor="rgb(".concat(e.fillColor,")"),this.st.playedColor="rgb(".concat(e.playedColor,")"),this._setThemeStyle(e.playedColor)}},{key:"_setTheme",value:function(e){this._debugLog("call setTheme");var t=b[e]?b[e]:b.b;this.pbpComponent.fillRect.setAttribute("fill","rgb(".concat(t.fillColor,")")),this.pbpComponent.playedRect.setAttribute("fill","rgb(".concat(t.playedColor,")")),s("pbp_theme_v4",e),this._setThemeStyle(t.playedColor)}},{key:"_setHeight",value:function(e,t){e._debugLog("call setHeight");var i=h[t];e.pbp&&(e.pbp.style.height="".concat(i,"px")),s("pbp_height_v3",t)}},{key:"_setOpacity",value:function(e,t){e._debugLog("call setOpacity");var i=c[t];i&&(e.pbpComponent.group.setAttribute("fill-opacity",i),s("pbp_opacity_v3",t))}},{key:"_setPin",value:function(e,t){e._debugLog("call setPin"),e.pbp&&("1"===t?e.pbp.classList.add("pin"):e.pbp.classList.remove("pin")),s("pbp_pin_v3","1"===t?1:0)}},{key:"_pinStateChange",value:function(e,t,i){var a=document.getElementById(d).classList;i?(this._setPin(this,"1"),e.innerHTML='<svg t="1571033023877" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3699" width="16" height="16"><path d="M726.646154 466.707692h-9.846154L649.846154 155.569231h17.723077c31.507692 0 57.107692-25.6 57.107692-57.107693s-25.6-57.107692-57.107692-57.107692H356.430769c-31.507692 0-57.107692 25.6-57.107692 57.107692s25.6 57.107692 57.107692 57.107693h17.723077l-64.984615 311.138461h-9.846154c-31.507692 0-57.107692 25.6-57.107692 57.107693s25.6 57.107692 57.107692 57.107692h165.415385v342.646154c0 31.507692 25.6 59.076923 59.076923 59.076923s59.076923-25.6 59.076923-59.076923V582.892308H728.615385c31.507692 0 57.107692-25.6 57.107692-57.107693s-27.569231-59.076923-59.076923-59.076923z" p-id="3700" fill="#ffffff"></path></svg>',t.innerText="å…³é—­ã€Šé«˜èƒ½è¿›åº¦æ¡ã€‹å¸¸é©»",a.add("pin")):(this._setPin(this,"0"),e.innerHTML='<svg t="1571033005936" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3385" width="16" height="16"><path d="M85.333333 224.853333 139.946667 170.666667 853.333333 884.053333 799.146667 938.666667 546.133333 685.653333 546.133333 938.666667 477.866667 938.666667 477.866667 682.666667 256 682.666667 256 597.333333 341.333333 512 341.333333 480.853333 85.333333 224.853333M682.666667 512 768 597.333333 768 682.666667 760.32 682.666667 341.333333 263.68 341.333333 170.666667 298.666667 170.666667 298.666667 85.333333 725.333333 85.333333 725.333333 170.666667 682.666667 170.666667 682.666667 512Z" p-id="3386" fill="#ffffff"></path></svg>',t.innerText="æ‰“å¼€ã€Šé«˜èƒ½è¿›åº¦æ¡ã€‹å¸¸é©»",a.remove("pin")),s("pbp_pin_v3",i?"1":"0")}},{key:"_initPin",value:function(){var i=this,e=document.getElementById(p);(e=document.createElement("div")).setAttribute("id",p);var a=document.createElement("div");a.setAttribute("class","pbp-icon");var r=document.createElement("span");r.setAttribute("class","pbp-tips"),e.appendChild(a),e.appendChild(r);var n=this;this.pbp.appendChild(e);var t="1"===o("pbp_pin_v3","0");this._pinStateChange(a,r,t),e.addEventListener("click",function(e){var t="1"!==o("pbp_pin_v3","0");n._pinStateChange(a,r,t),window.pinClickCount||(window.pinClickCount=1),10<=window.pinClickCount&&(window.pinClickCount=1,s("pbp_debug",i.debug?"0":"1"),window.location.reload()),window.pinClickCount++})}},{key:"_saveZebraAreas",value:function(){if(null!==this.zebraStart&&null!==this.zebraEnd){for(var e=0;e<this.zebraAreas.length;e++){var t=this.zebraAreas[e][0],i=this.zebraAreas[e][1];if(this.zebraStart>i){if(e+1!==this.zebraAreas.length)continue;this.zebraAreas.push([this.zebraStart,this.zebraEnd]);break}if(this.zebraStart>=t&&this.zebraEnd<=i)break;this.zebraStart<=t&&this.zebraEnd>=t&&this.zebraEnd<i?this.zebraAreas[e]=[this.zebraStart,i]:this.zebraStart>=t&&this.zebraStart<=i&&this.zebraEnd>i?this.zebraAreas[e]=[t,this.zebraEnd]:this.zebraAreas.splice(e,0,[this.zebraStart,this.zebraEnd]);break}if(1<this.zebraAreas.length){for(var a=[],r=this.zebraAreas[0][1],n=0,o=1;o<this.zebraAreas.length;o++){var s=this.zebraAreas[o][0],l=this.zebraAreas[o][1];s<r?(r<l&&(this._debugLog("delete merge end"),this.zebraAreas[n]=[this.zebraAreas[n][0],l],r=l,n=o),this._debugLog("delete: ".concat(o,", ").concat(s,", ").concat(l)),a.push(o)):(r=l,n=o)}var p=this;a.forEach(function(e,t){p._debugLog("delete start: ".concat(e-t)),p.zebraAreas.splice(e-t,1)})}else this.zebraAreas.push([this.zebraStart,this.zebraEnd]);this._refreshZebraClipPath()}}},{key:"_recoverZebraDataFromCache",value:function(t,i){var a=this,e={service:"pbp",version:"3",onReady:function(){window.PbpIDBHelper.get(a.cid,null).then(function(e){if(e)try{a.zebraAreas=e.data}catch(e){a._debugLog("Zebra data parse error"+e)}finally{t(null,i),a._refreshZebraClipPath()}else t(null,i),a._refreshZebraClipPath(),window.PbpIDBHelper.checkExpire(null)}).catch(function(e){a._debugLog("WTF! unkowen"+JSON.stringify(e))})},onFirstCreate:function(){}};window.PbpIDBHelper=r.getInstance(e)}},{key:"_cacheZebraData",value:function(){if(this.zebraAreas){this._debugLog("call _cacheZebraData");try{window.PbpIDBHelper.set({cid:this.cid,data:this.zebraAreas},2592e6)}catch(e){this._debugLog("Zebra data stringify or save error"+e)}}}},{key:"_generateBezierCurvePath",value:function(e,t,i){var a=.2*i,r=e[1].wPercentage*t/2,n=["M 0 100 L 0 ".concat(i-a)],o=0,s=i-a;e.push({wPercentage:1,hPercentage:0});for(var l=1;l<e.length;l++){var p=e[l],h=p.wPercentage*t,c=i-(a+.8*p.hPercentage*i),b=o+r;n.push("C ".concat(b.toFixed(1)," ").concat(s.toFixed(1),", ").concat(b.toFixed(1)," ").concat(c.toFixed(1),", ").concat(h.toFixed(1)," ").concat(c.toFixed(1))),o=h,s=c}n.push("L 1000 100 Z");var d=n.join(" ");return this._debugLog("call _generateBezierCurvePath: ".concat(d)),d}},{key:"_generateZebraPath",value:function(e,t){for(var i=[],a=0;a<e.length;a++){var r=e[a],n=t*r[0],o=t*r[1];i.push("M ".concat(n.toFixed(1)," 100 H ").concat(o.toFixed(1)," V 0 H ").concat(n.toFixed(1)," Z"))}var s=i.join(" ");return this._debugLog("call _generateZebraPath: ".concat(s)),s}},{key:"_create",value:function(){var e,i,t,a,r,n,o,s,l,p,h,c,b=this;this.st&&((e=document.getElementById(d))||((e=document.createElement("div")).setAttribute("id",d),(i=document.createElementNS("http://www.w3.org/2000/svg","svg")).setAttribute("viewBox","0 0 ".concat(u," ").concat(100)),i.setAttribute("preserveAspectRatio","none"),i.setAttribute("width","100%"),i.setAttribute("height","100%"),t=document.createElementNS("http://www.w3.org/2000/svg","defs"),(a=document.createElementNS("http://www.w3.org/2000/svg","clipPath")).setAttribute("id","pbp-curve-path"),a.setAttribute("clipPathUnits","userSpaceOnUse"),(r=document.createElementNS("http://www.w3.org/2000/svg","path")).setAttribute("d",this._generateBezierCurvePath(this.st.points,u,100)),a.appendChild(r),(n=document.createElementNS("http://www.w3.org/2000/svg","clipPath")).setAttribute("id","pbp-played-path"),n.setAttribute("clipPathUnits","userSpaceOnUse"),(o=document.createElementNS("http://www.w3.org/2000/svg","rect")).setAttribute("x","0"),o.setAttribute("width","0"),o.setAttribute("y","0"),o.setAttribute("height","100%"),n.appendChild(o),(s=document.createElementNS("http://www.w3.org/2000/svg","path")).setAttribute("d",this._generateZebraPath(this.zebraAreas,u)),n.appendChild(s),t.appendChild(a),t.appendChild(n),(l=document.createElementNS("http://www.w3.org/2000/svg","g")).setAttribute("fill-opacity",this.st.opacity),l.setAttribute("clip-path","url(#pbp-curve-path)"),l.setAttribute("class","bilibili-player-videoshot-area"),(p=document.createElementNS("http://www.w3.org/2000/svg","rect")).setAttribute("x","0"),p.setAttribute("y","0"),p.setAttribute("width","100%"),p.setAttribute("height","100%"),p.setAttribute("fill",this.st.fillColor),l.appendChild(p),(h=document.createElementNS("http://www.w3.org/2000/svg","rect")).setAttribute("x","0"),h.setAttribute("y","0"),h.setAttribute("width","100%"),h.setAttribute("height","100%"),h.setAttribute("fill",this.st.playedColor),h.setAttribute("clip-path","url(#pbp-played-path)"),l.appendChild(h),(c=document.createElementNS("http://www.w3.org/2000/svg","line")).setAttribute("y1","0"),c.setAttribute("y2","100%"),c.setAttribute("style","stroke: ".concat("rgba(255,255,255,0.2)","; stroke-width: 1;")),l.appendChild(c),i.appendChild(t),i.appendChild(l),e.appendChild(i),this._container.appendChild(e),this._getPlayerState().show?e.classList.add("show"):e.classList.remove("show"),l.addEventListener("click",function(e){var t=(e.clientX-i.getBoundingClientRect().left)/i.getBoundingClientRect().width;b._player.seek(t*b._getDuration()),b._isNewPlayer?b._player.eTrack("slidepbp"):b._player.track("slidepbp")}),this.pbp=e,this.pbpComponent={pbpSvg:i,group:l,currentRect:o,zebraPath:s,fillRect:p,playedRect:h,currentTimeLine:c}))}},{key:"_refresh",value:function(){var e,t,i;null!==this.zebraStart&&null!==this.zebraEnd&&this.zebraEnd>this.zebraStart&&(e=this.pbpComponent.currentRect,t=100*this.zebraStart,i=100*this.zebraEnd-t,e.setAttribute("x","".concat(t.toFixed(2),"%")),e.setAttribute("width","".concat(i.toFixed(2),"%")));var a=this._player.getCurrentTime();this.firstRefreshFlag||(a=0,this.firstRefreshFlag=!0);var r=0<=(r=a/this._getDuration()*u-.5)?r:0,n=this.pbpComponent.currentTimeLine;n.setAttribute("x1","".concat(r)),n.setAttribute("x2","".concat(r))}},{key:"_refreshZebraClipPath",value:function(){this.pbpComponent.zebraPath.setAttribute("d",this._generateZebraPath(this.zebraAreas,u))}},{key:"_observerChange",value:function(){var o=this;this._debugLog("observer change"),this.videoSeekingCallback=function(e){o._saveZebraAreas(),o.zebraStart=null,o.zebraEnd=null,o.lastUpdateTime=null},this.videoProgressUpdateCallback=function(e,t){var i=o._getDuration(),a=o._isNewPlayer?o._player.getCurrentTime():t.currentTime,r=a/i||0,n=!1;o.lastUpdateTime&&(n=a<o.lastUpdateTime||1.5<a-o.lastUpdateTime),n?(o._debugLog("invalid update, ignore."),o._saveZebraAreas(),o.zebraStart=null,o.zebraEnd=null,o.lastUpdateTime=null):(null===o.zebraStart&&(o.zebraStart=Number(r.toFixed(4))),o.zebraEnd=Number(r.toFixed(4)),o._isNewPlayer&&15<=o.lastUpdateTime-a?o._executeZebraCached():o.lastUpdateTime=a),o._refresh()},this.videoControlbarCallback=function(e,t){o._controlbarControl(t.show)},this.videoHeartbeatCallback=function(e,t){o._executeZebraCached()},this.onbeforeunload=function(){o.videoHeartbeatCallback()},this.video.addEventListener("seeking",this.videoSeekingCallback),this._isNewPlayer?(this.videoControlbarShowCallback=function(e){o._controlbarControl(!0)},this.videoControlbarHideCallback=function(e){o._controlbarControl(!1)},this._player.on(window.nano.EventType.Player_Show_Controls,this.videoControlbarShowCallback),this._player.on(window.nano.EventType.Player_Hide_Controls,this.videoControlbarHideCallback),this._player.on(window.nano.EventType.Player_TimeUpdate,this.videoProgressUpdateCallback),window.addEventListener("beforeunload",this.onbeforeunload)):(this._player.addEventListener("video_controlbar",this.videoControlbarCallback),this._player.addEventListener("video_heartbeat",this.videoHeartbeatCallback),this._player.addEventListener("video_progress_update",this.videoProgressUpdateCallback))}},{key:"_calculatePercentage",value:function(e,t){var i=this._getDuration(),a=Math.floor(i/t);this._debugLog("video_len:".concat(a," data_len:").concat(e.length)),a>e.length&&(e=e.concat(new Array(a-e.length).fill(0)));for(var r=e.length*t,n=e.reduce(function(e,t){return t<e?e:t},0),o=[],s=0;s<e.length;s++){var l=e[s],p=(p=l/n)||0;o.push({value:l,hPercentage:p,wPercentage:s*t/r})}return o}},{key:"_getPlayerState",value:function(){var e,t={show:!1,gamePlayer:!1};return this._isNewPlayer?t.show=!this._player.getManifest().majorCtrlHidden:(e=this._player.getPlayerState())&&(t.show=e.controller&&e.controller.show,t.gamePlayer=e.gamePlayer),t}},{key:"_controlbarControl",value:function(e){var t=this.pbp.classList;e?t.add("show"):t.remove("show")}},{key:"_executeZebraCached",value:function(){var e;this.videoHeartbeatFirstFlag?(e=this._player.getCurrentTime()/this._getDuration()||0,e=Number(e.toFixed(4)),this._debugLog("call video heartbeat: ".concat(e,", zebra time: ").concat(this.zebraStart," - ").concat(this.zebraEnd)),this.zebraEnd=e,this._saveZebraAreas(),this.zebraStart=this.zebraEnd,this.lastUpdateTime=null,this._cacheZebraData()):this.videoHeartbeatFirstFlag=!0}},{key:"_getDuration",value:function(){return this._isNewPlayer?this._player.getDuration(!0):this._player.getDuration()}},{key:"_debugLog",value:function(){for(var e,t=arguments.length,i=new Array(t),a=0;a<t;a++)i[a]=arguments[a];this.debug&&(e=console).log.apply(e,["[PBP DEBUG]: "].concat(i))}},{key:"_injectBiliPlayer",value:function(){var r=this,n=10;return new Promise(function e(t,i){var a=document.querySelector(".".concat("bilibili-player-video-wrap"));if(r._isNewPlayer||window.BilibiliPlayer&&a)r.aid=+window.aid||window.bvid||r.options.aid,r.cid=+window.cid||r.options.cid,t();else{if(0===--n)return void i("miss BilibiliPlayer");setTimeout(function(){e(t,i)},500)}})}},{key:"stateStore",get:function(){var e={status:"disable",data:[],version:"3.6.2"};this.st&&this.st.points&&(e.data=this.st.points),e.data.length?"show"===this._status?e.status="enable":e.status="disable":e.status="enableFail";var t="1"===(t=o("pbp_pin_v3","0"))?t:"0",i=o("pbp_height_v3","m"),i=h[i]?i:"m",a=o("pbp_opacity_v3","m"),a=c[a]?a:"m",r=o("pbp_theme_v4","b"),r=b[r]?r:"b",n="1"===(n=o("pbp_debug","0"))?n:"0";return e.pbpstatus=e.status,e.pbptag=this._pbptag,e.pbptag.pbppin=Number(t),e.pbptag.pbpheight=i,e.pbptag.pbpopacity=a,e.pbptag.theme=r,e.pbptag.debug=n,e.pbptagstr=this._pbptagstr+"&pbppin_"+t+"&pbpheight_"+i+"&pbpopacity_"+a+"&pbptheme_"+r+"&pbpdebug_"+n,e}}]),a}()});        20210204182252-8l1Ï      t   a   i   e   r   n   o   h   c   p   b   s   d   l   u   object   exports   undefined   module   function   define   amd	   self   BiliPBP   r<   n<   r.getInstance   getInstance   r.isSupport   isSupport   bilibili_pbp;   bilibili-player-video-control!   bilibili_pbp_pin   3.6.2   m   g   fillColor   playedColor   255,255,255   35,173,229   251,114,153   178,45,67   11,163,150   key   value   getDatabase   prototype   length   enumerable   configurable   writable   Object   defineProperty   get   set   checkExpire	   init	   show	   hide   destroy   _clearStore   _checkVersion   _setThemeStyle!   _updatePbpConfig   _setTheme   _setHeight   _setOpacity   _setPin   _pinStateChange   _initPin   _saveZebraAreas5   _recoverZebraDataFromCache   _cacheZebraData1   _generateBezierCurvePath%   _generateZebraPath   _create   _refresh+   _refreshZebraClipPath   _observerChange)   _calculatePercentage   _getPlayerState%   _controlbarControl'   _executeZebraCached   _getDuration   _debugLog#   _injectBiliPlayer   stateStore   arguments   .this   options	   wait   _status   _pbptag      _pbptagstr   player   window   _player   Error?   Can not get the player instance   isNewPlayer   _isNewPlayer%   containerClassName'   _containerClassNameI   Can not get the containerId argument   document-   getElementsByClassName   _container   TypeErrorC   Cannot call a class as a function   st   aid   cid   pbpStyle   themeStyle   pbp   video   pbpComponent   timeLine   zebraStart   zebraEnd   zebraAreas   lastUpdateTime!   firstRefreshFlag/   videoHeartbeatFirstFlag   eventKey   localStorage   getItem   pbp_debug_api   pbpDebugApi   pbp_debug_key   pbpDebugKey   debug   1   pbp_debug   default   value/c<!   init unsupported/   environment not support   init key =	   then   value/<   catch!   MutationObserver-   WebKitMutationObserver'   MozMutationObserver   Promise   sessionStorage   indexedDB   Array   console   log   apply   [PBP DEBUG]:    concat   querySelector   .5   bilibili-player-video-wrap   BilibiliPlayer	   bvid'   miss BilibiliPlayer   setTimeout   e/<   _status destroy3   injectBiliPlayer complete	   data	   keys   value/</<   aid || cid miss   getElementById'   old pbp not destroy   bwp-video%   video element miss   step_sec   events   tag   tagstr3   init api response debug:    events[   ] length empty1   events[key] length emptyM   init async start: api.cidData complete	   name   points   call destroy   call hide   removeChild'   removeEventListener   seeking)   videoSeekingCallback   off	   nano   EventType)   Player_Show_Controls7   videoControlbarShowCallback)   Player_Hide_Controls7   videoControlbarHideCallback#   Player_TimeUpdate7   videoProgressUpdateCallback   beforeunload   onbeforeunload!   video_controlbar/   videoControlbarCallback   video_heartbeat-   videoHeartbeatCallback+   video_progress_update	   head    hb      hb         À  hb  /*!
 * pbp | v3.6.2
 * 2021-2-1 7:50:25 â”œF10: PMâ”¤
 * wushiyang <wushiyang@bilibili.com>, lipengcheng <lipengcheng@bilibili.com>, tangjunxing <tangjunxing@bilibili.com>
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e=e||self).BiliPBP=t()}(this,function(){"use strict";function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var i=0;i<t.length;i++){var a=t[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function i(e,t,i){return t&&a(e.prototype,t),i&&a(e,i),e}var r=function(){function e(){t(this,e),this.requestQueue=[]}return i(e,[{key:"getDatabase",value:function(e){var t=new n(e);return this.requestQueue.push(t),t}}]),e}(),n=function(){function e(i){var a=this;t(this,e),this._instance=window.indexedDB.open(i.service+i.version,1),this.onReady=i.onReady||function(){return null},this.onFirstCreate=i.onFirstCreate||function(){return null},this.isReady=!1,this._dbStore=null,this._instance.onerror=function(e){console.error("IDB error"+e)},this._instance.onsuccess=function(e){a._dbStore=a._instance.result,a.isReady=!0,i.onReady()},this._instance.onupgradeneeded=function(e){var t=e.target.result;t.objectStoreNames.contains("pbpZebraCache")||t.createObjectStore("pbpZebraCache",{keyPath:"cid"}),a._dbStore=t,i.onFirstCreate()}}return i(e,[{key:"get",value:function(a,r){var n=this;return new Promise(function(t,e){var i;n.isReady?((i=n._dbStore.transaction(["pbpZebraCache"]).objectStore("pbpZebraCache").get(a)).onerror=function(e){t(r,e)},i.onsuccess=function(e){i.result?t(i.result):t(r)}):e(new Error)})}},{key:"set",value:function(a,r){var n=this;return new Promise(function(t,i){var e;n.isReady?((e=n._dbStore.transaction(["pbpZebraCache"],"readwrite")).oncomplete=function(e){t(!0)},e.onerror=function(e){i(e)},a.expireTime=Date.parse(new Date)+r,e.objectStore("pbpZebraCache").put(a)):i(new Error)})}},{key:"checkExpire",value:function(t){var i=this;t?this.get(t,!1).then(function(e){e&&e.expireTime<Date.parse(new Date)&&(i._dbStore.transaction(["pbpZebraCache"],"readwrite").objectStore("pbpZebraCache").delete(t).onsuccess=function(e){})}):this._dbStore.transaction(["pbpZebraCache"],"readwrite").objectStore("pbpZebraCache").openCursor().onsuccess=function(e){var t=e.target.result;t&&(i.checkExpire(t.key),t.continue())}}}]),e}();r.getInstance=function(e){return window.indexedDbHelperV1||(window.indexedDbHelperV1=new r),window.indexedDbHelperV1.getDatabase(e)},r.isSupport=function(){return!!window.indexedDB};function o(e,t){var i=localStorage.getItem(e);return null==i&&s(e,t),i||t}var s=function(e,t){localStorage.setItem(e,t)},d="bilibili_pbp",l="bilibili-player-video-control",p="bilibili_pbp_pin",u=1e3,e="3.6.2",h={l:16,m:28,h:32},c={l:.5,m:.2,h:.1},b={b:{fillColor:"255,255,255",playedColor:"35,173,229"},p:{fillColor:"255,255,255",playedColor:"251,114,153"},r:{fillColor:"255,255,255",playedColor:"178,45,67"},g:{fillColor:"255,255,255",playedColor:"11,163,150"}};return function(){function a(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(t(this,a),this.options=e,this._clearStore(),this._status="wait",this._pbptag={},this._pbptagstr="",this._player=e.player||window.player,!this._player)throw new Error("Can not get the player instance");if(this._isNewPlayer=e.isNewPlayer,this._containerClassName=e.containerClassName,this._isNewPlayer&&!this._containerClassName)throw new Error("Can not get the containerId argument");this._container=document.getElementsByClassName(this._isNewPlayer?this._containerClassName:l)[0]}return i(a,null,[{key:"isSupport",value:function(){return!!(window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver)&&(!!Promise&&(!(!localStorage&&!sessionStorage)&&!!r.isSupport()))}}]),i(a,[{key:"init",value:function(e,t){var h=this,i=0<arguments.length&&void 0!==e?e:"default",c=1<arguments.length&&void 0!==t?t:function(){};if("destroy"===this._status&&(this._status="wait"),!a.isSupport())return this._debugLog("init unsupported"),this.destroy(),c(new Error("environment not support"));this.eventKey=this.pbpDebugKey||i||"default",this._debugLog("init key =",this.eventKey),this._injectBiliPlayer().then(function(){return"destroy"===h._status?(h.destroy(),c(new Error("_status destroy"))):(h._debugLog("injectBiliPlayer complete"),h.aid&&h.cid?h.options&&h.options.data&&0<Object.keys(h.options.data).length?new Promise(function(e,t){e(h.options.data)}):new Promise(function(e,t){t(new Error("No Data."))}):c(new Error("aid || cid miss")))}).then(function(e){if("destroy"===h._status)return h.destroy(),c(new Error("_status destroy"));if(document.getElementById(d))return h.destroy(),c(new Error("old pbp not destroy"));if(h.video=document.querySelector("video")||document.querySelector("bwp-video"),!h.video)return h.destroy(),c(new Error("video element miss"));var t=e.step_sec,i=e.events,a=void 0===i?{}:i,r=e.tag,n=void 0===r?{}:r,o=e.tagstr,s=void 0===o?"":o,l=e.debug;h._pbptag=n,h._pbptagstr=s,h._debugLog("init api response debug: ",l);var p=a[h.eventKey];if(!p||!p.length||!t)return h.destroy(),h._debugLog("events[".concat(h.eventKey,"] length empty"),l),c(new Error("events[key] length empty"));h._debugLog("init async start: api.cidData complete",h.eventKey,p),h.st={name:h.eventKey,key:h.eventKey,points:h._calculatePercentage(p,t)},h._checkVersion(),h._recoverZebraDataFromCache(c,h.st)}).catch(function(e){c?c(e):console.error(e),h._debugLog(e)})}},{key:"show",value:function(){var e,t,i,a,r;"destroy"!==this._status&&"show"!==this._status&&this.st&&(this._status="show",this._debugLog("call show"),e=o("pbp_height_v3","m"),t=h[e]?h[e]:h.m,i=this._getPlayerState().gamePlayer?"-33":"3",this.pbpStyle=document.createElement("style"),a="#bilibili_pbp{display:flex;cursor:pointer;position:absolute;bottom:".concat(i,"px;left:-12px;width:calc(100% + 24px);height:").concat(t,"px;opacity:0;z-index:0}#bilibili_pbp.show{bottom:calc(100% - 2px);opacity:1;left:0;width:100%}.webfullscreen #bilibili_pbp.show,.bilibili-player.mode-fullscreen #bilibili_pbp.show{bottom:calc(100% + 4px + 1px)}.bui-thumb{z-index:1}.bilibili-player-video-toast-wrp{z-index:1000}.bui-slider .bui-track.bui-track-video-progress{height:4px !important;border-radius:0}.bui-slider .bui-track .bui-bar-wrap{border-radius:0}.bilibili-player-video-state{z-index:998}.video-control-show .subtitle-position.subtitle-position-bc{bottom:74px}.mode-fullscreen .video-control-show .subtitle-position.subtitle-position-bc{bottom:84px}.mode-webfullscreen .video-control-show .subtitle-position.subtitle-position-bc{bottom:84px}#bilibili_pbp.pin{opacity:1}.video-control-show .bilibili-player-video-interactive{margin-bottom:16px}.webfullscreen .bilibili-player-video-interactive,.mode-fullscreen .bilibili-player-video-interactive{margin-bottom:24px}#bilibili_pbp_pin{cursor:pointer;position:absolute;bottom:calc(8%);z-index:1;color:white;opacity:0;line-height:16px;text-align:center}.bilibili-player .bilibili-player-area.video-control-show #bilibili_pbp #bilibili_pbp_pin,.bilibili-player .bilibili-player-area .bilibili-player-video-control-wrap:hover #bilibili_pbp #bilibili_pbp_pin{right:-8px;opacity:1}.pbp-tips{position:absolute;font-size:12px;color:#fff;border-radius:4px;line-height:18px;padding:4px 8px;background-color:#000;background:rgba(0,0,0,.8);white-space:nowrap;right:0;top:0;display:none}#bilibili_pbp_pin:hover .pbp-tips{top:-30px;display:block;transition:all .3 ease-in-out;-webkit-transition:all .3 ease-in-out}.pbp-icon{width:16px;height:16px;background-size:contain;transform:rotate(45deg)}.pbp-icon:hover{transform:rotate(60deg) scale(1.2);transition:all .1s ease-in-out;-webkit-transition:all .1s ease-in-out}"),r="#bilibili_pbp{position:relative;display:flex;cursor:pointer;width:100%;height:".concat(t,"px;opacity:0;z-index:0}#bilibili_pbp.show{opacity:1}#bilibili_pbp.pin{opacity:1}#bilibili_pbp_pin{cursor:pointer;position:absolute;right:-8px;bottom:calc(8%);z-index:1;color:white;opacity:0;line-height:16px;text-align:center}#bilibili_pbp.show #bilibili_pbp_pin{opacity:1}.pbp-tips{position:absolute;font-size:12px;color:#fff;border-radius:4px;line-height:18px;padding:4px 8px;background-color:#000;background:rgba(0,0,0,.8);white-space:nowrap;right:0;top:0;display:none}#bilibili_pbp_pin:hover .pbp-tips{top:-30px;display:block;transition:all .3 ease-in-out;-webkit-transition:all .3 ease-in-out}.pbp-icon{width:16px;height:16px;background-size:contain;transform:rotate(45deg)}.pbp-icon:hover{transform:rotate(60deg) scale(1.2);transition:all .1s ease-in-out;-webkit-transition:all .1s ease-in-out}"),this.pbpStyle.innerHTML=this._isNewPlayer?r:a,document.head.appendChild(this.pbpStyle),this._updatePbpConfig(),this._create(),this._refresh(),this._observerChange(),this._initPin())}},{key:"hide",value:function(){if("destroy"!==this._status&&"hide"!==this._status&&(this._status="hide",this._debugLog("call hide"),this.pbp))try{this._container.removeChild(this.pbp),this.video&&this.video.removeEventListener("seeking",this.videoSeekingCallback),this._isNewPlayer?(this._player.off(window.nano.EventType.Player_Show_Controls,this.videoControlbarShowCallback),this._player.off(window.nano.EventType.Player_Hide_Controls,this.videoControlbarHideCallback),this._player.off(window.nano.EventType.Player_TimeUpdate,this.videoProgressUpdateCallback),window.removeEventListener("beforeunload",this.onbeforeunload)):(this._player.removeEventListener("video_controlbar",this.videoControlbarCallback),this._player.removeEventListener("video_heartbeat",this.videoHeartbeatCallback),this._player.removeEventListener("video_progress_update",this.videoProgressUpdateCallback)),this.pbpStyle&&document.head.removeChild(this.pbpStyle),this.themeStyle&&(document.head.removeChild(this.themeStyle),this.themeStyle=null)}catch(e){console.log(e)}}},{key:"destroy",value:function(){"destroy"!==this._status&&(this._debugLog("call destroy"),this.hide(),this._clearStore(),this._status="destroy",this._container=null)}},{key:"_clearStore",value:function(){this.st=null,this.aid=null,this.cid=null,this.pbpStyle=null,this.themeStyle=null,this.pbp=null,this.video=null,this.pbpComponent=null,this.timeLine=null,this.zebraStart=0,this.zebraEnd=null,this.zebraAreas=[],this.lastUpdateTime=null,this.firstRefreshFlag=!1,this.videoHeartbeatFirstFlag=!1,this.eventKey=null,this.pbpDebugApi=localStorage.getItem("pbp_debug_api")||"",this.pbpDebugKey=localStorage.getItem("pbp_debug_key")||"",this.debug=!!this.options.debug||"1"===localStorage.getItem("pbp_debug")}},{key:"_checkVersion",value:function(){this._debugLog("pbp.js version: ".concat(e)),localStorage.getItem("pbp_version")!==e&&localStorage.setItem("pbp_version",e)}},{key:"_setThemeStyle",value:function(e){this.themeStyle&&"show"===this._status&&document.head.removeChild(this.themeStyle),"1"===localStorage.getItem("pbpstate")&&(this.themeStyle=document.createElement("style"),this.themeStyle.innerHTML=".bui-slider .bui-track.bui-track-video-progress .bui-bar-normal.bui-bar.bui-bar-normal { background: rgba(".concat(e,", 1); }"),document.head.appendChild(this.themeStyle))}},{key:"_updatePbpConfig",value:function(){var e=o("pbp_theme_v4","b"),e=b[e]?b[e]:b.b,t=o("pbp_opacity_v3","m"),t=c[t]?c[t]:c.m;this.st.opacity=t,this.st.fillColor="rgb(".concat(e.fillColor,")"),this.st.playedColor="rgb(".concat(e.playedColor,")"),this._setThemeStyle(e.playedColor)}},{key:"_setTheme",value:function(e){this._debugLog("call setTheme");var t=b[e]?b[e]:b.b;this.pbpComponent.fillRect.setAttribute("fill","rgb(".concat(t.fillColor,")")),this.pbpComponent.playedRect.setAttribute("fill","rgb(".concat(t.playedColor,")")),s("pbp_theme_v4",e),this._setThemeStyle(t.playedColor)}},{key:"_setHeight",value:function(e,t){e._debugLog("call setHeight");var i=h[t];e.pbp&&(e.pbp.style.height="".concat(i,"px")),s("pbp_height_v3",t)}},{key:"_setOpacity",value:function(e,t){e._debugLog("call setOpacity");var i=c[t];i&&(e.pbpComponent.group.setAttribute("fill-opacity",i),s("pbp_opacity_v3",t))}},{key:"_setPin",value:function(e,t){e._debugLog("call setPin"),e.pbp&&("1"===t?e.pbp.classList.add("pin"):e.pbp.classList.remove("pin")),s("pbp_pin_v3","1"===t?1:0)}},{key:"_pinStateChange",value:function(e,t,i){var a=document.getElementById(d).classList;i?(this._setPin(this,"1"),e.innerHTML='<svg t="1571033023877" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3699" width="16" height="16"><path d="M726.646154 466.707692h-9.846154L649.846154 155.569231h17.723077c31.507692 0 57.107692-25.6 57.107692-57.107693s-25.6-57.107692-57.107692-57.107692H356.430769c-31.507692 0-57.107692 25.6-57.107692 57.107692s25.6 57.107692 57.107692 57.107693h17.723077l-64.984615 311.138461h-9.846154c-31.507692 0-57.107692 25.6-57.107692 57.107693s25.6 57.107692 57.107692 57.107692h165.415385v342.646154c0 31.507692 25.6 59.076923 59.076923 59.076923s59.076923-25.6 59.076923-59.076923V582.892308H728.615385c31.507692 0 57.107692-25.6 57.107692-57.107693s-27.569231-59.076923-59.076923-59.076923z" p-id="3700" fill="#ffffff"></path></svg>',t.innerText="å…³é—­ã€Šé«˜èƒ½è¿›åº¦æ¡ã€‹å¸¸é©»",a.add("pin")):(this._setPin(this,"0"),e.innerHTML='<svg t="1571033005936" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3385" width="16" height="16"><path d="M85.333333 224.853333 139.946667 170.666667 853.333333 884.053333 799.146667 938.666667 546.133333 685.653333 546.133333 938.666667 477.866667 938.666667 477.866667 682.666667 256 682.666667 256 597.333333 341.333333 512 341.333333 480.853333 85.333333 224.853333M682.666667 512 768 597.333333 768 682.666667 760.32 682.666667 341.333333 263.68 341.333333 170.666667 298.666667 170.666667 298.666667 85.333333 725.333333 85.333333 725.333333 170.666667 682.666667 170.666667 682.666667 512Z" p-id="3386" fill="#ffffff"></path></svg>',t.innerText="æ‰“å¼€ã€Šé«˜èƒ½è¿›åº¦æ¡ã€‹å¸¸é©»",a.remove("pin")),s("pbp_pin_v3",i?"1":"0")}},{key:"_initPin",value:function(){var i=this,e=document.getElementById(p);(e=document.createElement("div")).setAttribute("id",p);var a=document.createElement("div");a.setAttribute("class","pbp-icon");var r=document.createElement("span");r.setAttribute("class","pbp-tips"),e.appendChild(a),e.appendChild(r);var n=this;this.pbp.appendChild(e);var t="1"===o("pbp_pin_v3","0");this._pinStateChange(a,r,t),e.addEventListener("click",function(e){var t="1"!==o("pbp_pin_v3","0");n._pinStateChange(a,r,t),window.pinClickCount||(window.pinClickCount=1),10<=window.pinClickCount&&(window.pinClickCount=1,s("pbp_debug",i.debug?"0":"1"),window.location.reload()),window.pinClickCount++})}},{key:"_saveZebraAreas",value:function(){if(null!==this.zebraStart&&null!==this.zebraEnd){for(var e=0;e<this.zebraAreas.length;e++){var t=this.zebraAreas[e][0],i=this.zebraAreas[e][1];if(this.zebraStart>i){if(e+1!==this.zebraAreas.length)continue;this.zebraAreas.push([this.zebraStart,this.zebraEnd]);break}if(this.zebraStart>=t&&this.zebraEnd<=i)break;this.zebraStart<=t&&this.zebraEnd>=t&&this.zebraEnd<i?this.zebraAreas[e]=[this.zebraStart,i]:this.zebraStart>=t&&this.zebraStart<=i&&this.zebraEnd>i?this.zebraAreas[e]=[t,this.zebraEnd]:this.zebraAreas.splice(e,0,[this.zebraStart,this.zebraEnd]);break}if(1<this.zebraAreas.length){for(var a=[],r=this.zebraAreas[0][1],n=0,o=1;o<this.zebraAreas.length;o++){var s=this.zebraAreas[o][0],l=this.zebraAreas[o][1];s<r?(r<l&&(this._debugLog("delete merge end"),this.zebraAreas[n]=[this.zebraAreas[n][0],l],r=l,n=o),this._debugLog("delete: ".concat(o,", ").concat(s,", ").concat(l)),a.push(o)):(r=l,n=o)}var p=this;a.forEach(function(e,t){p._debugLog("delete start: ".concat(e-t)),p.zebraAreas.splice(e-t,1)})}else this.zebraAreas.push([this.zebraStart,this.zebraEnd]);this._refreshZebraClipPath()}}},{key:"_recoverZebraDataFromCache",value:function(t,i){var a=this,e={service:"pbp",version:"3",onReady:function(){window.PbpIDBHelper.get(a.cid,null).then(function(e){if(e)try{a.zebraAreas=e.data}catch(e){a._debugLog("Zebra data parse error"+e)}finally{t(null,i),a._refreshZebraClipPath()}else t(null,i),a._refreshZebraClipPath(),window.PbpIDBHelper.checkExpire(null)}).catch(function(e){a._debugLog("WTF! unkowen"+JSON.stringify(e))})},onFirstCreate:function(){}};window.PbpIDBHelper=r.getInstance(e)}},{key:"_cacheZebraData",value:function(){if(this.zebraAreas){this._debugLog("call _cacheZebraData");try{window.PbpIDBHelper.set({cid:this.cid,data:this.zebraAreas},2592e6)}catch(e){this._debugLog("Zebra data stringify or save error"+e)}}}},{key:"_generateBezierCurvePath",value:function(e,t,i){var a=.2*i,r=e[1].wPercentage*t/2,n=["M 0 100 L 0 ".concat(i-a)],o=0,s=i-a;e.push({wPercentage:1,hPercentage:0});for(var l=1;l<e.length;l++){var p=e[l],h=p.wPercentage*t,c=i-(a+.8*p.hPercentage*i),b=o+r;n.push("C ".concat(b.toFixed(1)," ").concat(s.toFixed(1),", ").concat(b.toFixed(1)," ").concat(c.toFixed(1),", ").concat(h.toFixed(1)," ").concat(c.toFixed(1))),o=h,s=c}n.push("L 1000 100 Z");var d=n.join(" ");return this._debugLog("call _generateBezierCurvePath: ".concat(d)),d}},{key:"_generateZebraPath",value:function(e,t){for(var i=[],a=0;a<e.length;a++){var r=e[a],n=t*r[0],o=t*r[1];i.push("M ".concat(n.toFixed(1)," 100 H ").concat(o.toFixed(1)," V 0 H ").concat(n.toFixed(1)," Z"))}var s=i.join(" ");return this._debugLog("call _generateZebraPath: ".concat(s)),s}},{key:"_create",value:function(){var e,i,t,a,r,n,o,s,l,p,h,c,b=this;this.st&&((e=document.getElementById(d))||((e=document.createElement("div")).setAttribute("id",d),(i=document.createElementNS("http://www.w3.org/2000/svg","svg")).setAttribute("viewBox","0 0 ".concat(u," ").concat(100)),i.setAttribute("preserveAspectRatio","none"),i.setAttribute("width","100%"),i.setAttribute("height","100%"),t=document.createElementNS("http://www.w3.org/2000/svg","defs"),(a=document.createElementNS("http://www.w3.org/2000/svg","clipPath")).setAttribute("id","pbp-curve-path"),a.setAttribute("clipPathUnits","userSpaceOnUse"),(r=document.createElementNS("http://www.w3.org/2000/svg","path")).setAttribute("d",this._generateBezierCurvePath(this.st.points,u,100)),a.appendChild(r),(n=document.createElementNS("http://www.w3.org/2000/svg","clipPath")).setAttribute("id","pbp-played-path"),n.setAttribute("clipPathUnits","userSpaceOnUse"),(o=document.createElementNS("http://www.w3.org/2000/svg","rect")).setAttribute("x","0"),o.setAttribute("width","0"),o.setAttribute("y","0"),o.setAttribute("height","100%"),n.appendChild(o),(s=document.createElementNS("http://www.w3.org/2000/svg","path")).setAttribute("d",this._generateZebraPath(this.zebraAreas,u)),n.appendChild(s),t.appendChild(a),t.appendChild(n),(l=document.createElementNS("http://www.w3.org/2000/svg","g")).setAttribute("fill-opacity",this.st.opacity),l.setAttribute("clip-path","url(#pbp-curve-path)"),l.setAttribute("class","bilibili-player-videoshot-area"),(p=document.createElementNS("http://www.w3.org/2000/svg","rect")).setAttribute("x","0"),p.setAttribute("y","0"),p.setAttribute("width","100%"),p.setAttribute("height","100%"),p.setAttribute("fill",this.st.fillColor),l.appendChild(p),(h=document.createElementNS("http://www.w3.org/2000/svg","rect")).setAttribute("x","0"),h.setAttribute("y","0"),h.setAttribute("width","100%"),h.setAttribute("height","100%"),h.setAttribute("fill",this.st.playedColor),h.setAttribute("clip-path","url(#pbp-played-path)"),l.appendChild(h),(c=document.createElementNS("http://www.w3.org/2000/svg","line")).setAttribute("y1","0"),c.setAttribute("y2","100%"),c.setAttribute("style","stroke: ".concat("rgba(255,255,255,0.2)","; stroke-width: 1;")),l.appendChild(c),i.appendChild(t),i.appendChild(l),e.appendChild(i),this._container.appendChild(e),this._getPlayerState().show?e.classList.add("show"):e.classList.remove("show"),l.addEventListener("click",function(e){var t=(e.clientX-i.getBoundingClientRect().left)/i.getBoundingClientRect().width;b._player.seek(t*b._getDuration()),b._isNewPlayer?b._player.eTrack("slidepbp"):b._player.track("slidepbp")}),this.pbp=e,this.pbpComponent={pbpSvg:i,group:l,currentRect:o,zebraPath:s,fillRect:p,playedRect:h,currentTimeLine:c}))}},{key:"_refresh",value:function(){var e,t,i;null!==this.zebraStart&&null!==this.zebraEnd&&this.zebraEnd>this.zebraStart&&(e=this.pbpComponent.currentRect,t=100*this.zebraStart,i=100*this.zebraEnd-t,e.setAttribute("x","".concat(t.toFixed(2),"%")),e.setAttribute("width","".concat(i.toFixed(2),"%")));var a=this._player.getCurrentTime();this.firstRefreshFlag||(a=0,this.firstRefreshFlag=!0);var r=0<=(r=a/this._getDuration()*u-.5)?r:0,n=this.pbpComponent.currentTimeLine;n.setAttribute("x1","".concat(r)),n.setAttribute("x2","".concat(r))}},{key:"_refreshZebraClipPath",value:function(){this.pbpComponent.zebraPath.setAttribute("d",this._generateZebraPath(this.zebraAreas,u))}},{key:"_observerChange",value:function(){var o=this;this._debugLog("observer change"),this.videoSeekingCallback=function(e){o._saveZebraAreas(),o.zebraStart=null,o.zebraEnd=null,o.lastUpdateTime=null},this.videoProgressUpdateCallback=function(e,t){var i=o._getDuration(),a=o._isNewPlayer?o._player.getCurrentTime():t.currentTime,r=a/i||0,n=!1;o.lastUpdateTime&&(n=a<o.lastUpdateTime||1.5<a-o.lastUpdateTime),n?(o._debugLog("invalid update, ignore."),o._saveZebraAreas(),o.zebraStart=null,o.zebraEnd=null,o.lastUpdateTime=null):(null===o.zebraStart&&(o.zebraStart=Number(r.toFixed(4))),o.zebraEnd=Number(r.toFixed(4)),o._isNewPlayer&&15<=o.lastUpdateTime-a?o._executeZebraCached():o.lastUpdateTime=a),o._refresh()},this.videoControlbarCallback=function(e,t){o._controlbarControl(t.show)},this.videoHeartbeatCallback=function(e,t){o._executeZebraCached()},this.onbeforeunload=function(){o.videoHeartbeatCallback()},this.video.addEventListener("seeking",this.videoSeekingCallback),this._isNewPlayer?(this.videoControlbarShowCallback=function(e){o._controlbarControl(!0)},this.videoControlbarHideCallback=function(e){o._controlbarControl(!1)},this._player.on(window.nano.EventType.Player_Show_Controls,this.videoControlbarShowCallback),this._player.on(window.nano.EventType.Player_Hide_Controls,this.videoControlbarHideCallback),this._player.on(window.nano.EventType.Player_TimeUpdate,this.videoProgressUpdateCallback),window.addEventListener("beforeunload",this.onbeforeunload)):(this._player.addEventListener("video_controlbar",this.videoControlbarCallback),this._player.addEventListener("video_heartbeat",this.videoHeartbeatCallback),this._player.addEventListener("video_progress_update",this.videoProgressUpdateCallback))}},{key:"_calculatePercentage",value:function(e,t){var i=this._getDuration(),a=Math.floor(i/t);this._debugLog("video_len:".concat(a," data_len:").concat(e.length)),a>e.length&&(e=e.concat(new Array(a-e.length).fill(0)));for(var r=e.length*t,n=e.reduce(function(e,t){return t<e?e:t},0),o=[],s=0;s<e.length;s++){var l=e[s],p=(p=l/n)||0;o.push({value:l,hPercentage:p,wPercentage:s*t/r})}return o}},{key:"_getPlayerState",value:function(){var e,t={show:!1,gamePlayer:!1};return this._isNewPlayer?t.show=!this._player.getManifest().majorCtrlHidden:(e=this._player.getPlayerState())&&(t.show=e.controller&&e.controller.show,t.gamePlayer=e.gamePlayer),t}},{key:"_controlbarControl",value:function(e){var t=this.pbp.classList;e?t.add("show"):t.remove("show")}},{key:"_executeZebraCached",value:function(){var e;this.videoHeartbeatFirstFlag?(e=this._player.getCurrentTime()/this._getDuration()||0,e=Number(e.toFixed(4)),this._debugLog("call video heartbeat: ".concat(e,", zebra time: ").concat(this.zebraStart," - ").concat(this.zebraEnd)),this.zebraEnd=e,this._saveZebraAreas(),this.zebraStart=this.zebraEnd,this.lastUpdateTime=null,this._cacheZebraData()):this.videoHeartbeatFirstFlag=!0}},{key:"_getDuration",value:function(){return this._isNewPlayer?this._player.getDuration(!0):this._player.getDuration()}},{key:"_debugLog",value:function(){for(var e,t=arguments.length,i=new Array(t),a=0;a<t;a++)i[a]=arguments[a];this.debug&&(e=console).log.apply(e,["[PBP DEBUG]: "].concat(i))}},{key:"_injectBiliPlayer",value:function(){var r=this,n=10;return new Promise(function e(t,i){var a=document.querySelector(".".concat("bilibili-player-video-wrap"));if(r._isNewPlayer||window.BilibiliPlayer&&a)r.aid=+window.aid||window.bvid||r.options.aid,r.cid=+window.cid||r.options.cid,t();else{if(0===--n)return void i("miss BilibiliPlayer");setTimeout(function(){e(t,i)},500)}})}},{key:"stateStore",get:function(){var e={status:"disable",data:[],version:"3.6.2"};this.st&&this.st.points&&(e.data=this.st.points),e.data.length?"show"===this._status?e.status="enable":e.status="disable":e.status="enableFail";var t="1"===(t=o("pbp_pin_v3","0"))?t:"0",i=o("pbp_height_v3","m"),i=h[i]?i:"m",a=o("pbp_opacity_v3","m"),a=c[a]?a:"m",r=o("pbp_theme_v4","b"),r=b[r]?r:"b",n="1"===(n=o("pbp_debug","0"))?n:"0";return e.pbpstatus=e.status,e.pbptag=this._pbptag,e.pbptag.pbppin=Number(t),e.pbptag.pbpheight=i,e.pbptag.pbpopacity=a,e.pbptag.theme=r,e.pbptag.debug=n,e.pbptagstr=this._pbptagstr+"&pbppin_"+t+"&pbpheight_"+i+"&pbpopacity_"+a+"&pbptheme_"+r+"&pbpdebug_"+n,e}}]),a}()});  4   https://i0.hdslb.com/bfs/static/pbp/pbp-3.6.2.min.js   ³!«!€!«!ÿÿÿÿ            Œ!«!!«!       ¹   O  ±   O     	     
   ³!«!Œ!«!ÿÿÿÿ                  !«!   !«!   !«!   !«!   !«!   !«!   !«!   !«!   !«!   š˜;øÅ                                        µ   –   ‘   Ô   µ   ‘   ”    ‘   µ   ¶  o  H   “{   ‘      µ   –   ‘   Ôµ   F   ‘   ”   ‘   µ   {   ¶ s “1   ‘   ¶  —   ‘   Ôµ   ‘   Â  ¶  o  H	   ‘   ÔŸ `P%
— Ÿ P— ¸ P¬ P.P   Ê5Œ!«!!«!         ]  fb  U  fb     ­   @ &   ³!«!Œ!«!ÿÿÿÿ                               	               
            Œ!«!!«!           w  Ë  m  Ë     Ç        ³!«!Œ!«!ÿÿÿÿ                  !«!l   !«!m   š˜;ø*                                     ¶  ¶  •   ‘   µ   }   Ø  ~ ¡‘   Ÿ 	`P‘ `P/P)2P  Ê5Œ!«!!«!          Õ  q  Ë  q     %    	   ³!«!Œ!«!ÿÿÿÿ                       !«!/   !«!0   !«!1   !«!,   !«!2   !«!3   !«!4   !«!+   š˜;ø¼   +                                Ã   Ô’    ·   ¶ F   ”   ‘   ¶ ·   GÃ  Ô·  ·  F   —   ‘   Ô‘   I   Ô·  I   Ô   ·  !–   ‘
   Ô·  I   ‘   Ôµ   ÖF   Ù¶  ·  F   ·  s Ô·   .Ö'Ã   ÔÔ“Uÿÿÿ‘   Ÿ 
 `P&fP— `P-`P¤ +¥ œ P$ÿÿÿœ`P— ~P           °   Ê5Œ!«!!«!          {  ª  q  ª     Ë       ³!«!Œ!«!ÿÿÿÿ                     !«!.   š˜;øP                                     ¶ –   ‘   Ô¸    ¶  F   ¶ o ‘   Ô¶ –   ‘   Ô¸    ¶  ¶ o ‘   Ô¶  œŸ `P Ÿ P)š P)#Q  Ê5Œ!«!!«!    	      h
  ¨
  ^
  ¨
     ¸	        Ê5Œ!«!!«!           ¸  P  °  P       @    ³!«!Œ!«!ÿÿÿÿ               Œ!«!!«!    	       Å  ç  »  ç            Ê5Œ!«!!«!       !«!+   ‹!«!!«!,   ‹!«!!«!-   !«!+   Œ!«!!«!    	  
,     J    J     d       Ê5!«!,   š˜;øD                                      f   Ä   Ô¸   ¸   a   5      8   f   8   b    s Ô¸   œŸ+/`P  %*/ÿÿÿéP$_%Q   Ê5Œ!«!!«!           ]  ¥	  U  ¥	     ­  @    ³!«!Œ!«!ÿÿÿÿ               Œ!«!!«!    	      j  °  `  °     º  B    Œ!«!   ß  î  ×  î     /        Ê5Œ!«!     *    *     k        Ê5Œ!«!  m    e       ½        Ê5Œ!«!  °  ë  ¨  ë              Ê5Œ!«!    ¯    ¯     c        Ê5!«!   !«!   Ê5Œ!«!!«!       !«!+   ‹!«!!«!,   ‹!«!!«!5   !«!+   Œ!«!!«!    	  
,   Õ  É  Í  É     %  B    Œ!«!    Ç  ù  Ç     Q  @    Œ!«!  z  …  r  …     Ê        Ê5Œ!«!  š  ¸  ’  ¸     ê        Ê5!«!    !«!   Ê5!«!   !«!   !«!   Ê5!«!,   Œ!«!!«!       !«!+   ‹!«!!«!,   ‹!«!!«!6   Œ!«!!«!    	  
,   ä  õ  Ü  õ     4  B    Œ!«!    ó    ó     `  @    Œ!«!  t  ~  l  ~     Ä        Ê5Œ!«!  ‘  š  ‰  š     á        Ê5!«!    !«!   Ê5!«!   !«!   !«!   Ê5Œ!«!!«!       !«!+   ‹!«!!«!,   ‹!«!!«!7   Œ!«!!«!    	  
,     Ÿ	    Ÿ	     h  B    Œ!«!  E  æ  =  æ     •       Œ!«!  ß  ä  ×  ä     /        Ê5Ê5Œ!«!  ]	  	  U	  	     ­        Ê5!«!    !«!   Ê5š˜;ø€   3                                   f   Ä   Ô¸   ¸   a   5      8   f   8   b    5      8   f	   8   b   5
      8   f   8   b   s Ô¸   œŸ+€ S`P  %*
/€ %*
/€ !%*/ÿÿı®P$€ ë%Q   Ê5Œ!«!!«!    	     ¾	  ,
  ¶	  ,
     	        Ê5!«!   Œ!«!!«!          A
  ]
  9
  ]
     ‘	       ³!«!Œ!«!ÿÿÿÿ              !«!`   !«!”   š˜;ø                                      µ   F   œŸ `P  ,Q  Ê5!«!   Œ!«!!«!    	  
   ¶
  Ö
  ®
  Ö
     
        Ê5!«!   !«!   !«!    !«!!   Œ!«!!«!       !«!   ‹!«!!«!"   ‹!«!!«!   ‹!«!!«!   !«!"   !«!   Œ!«!!«!       !«!   ‹!«!!«!"   ‹!«!!«!   ‹!«!Œ!«!!«!       !«!
   ‹!«!!«!	   ‹!«!!«!   ‹!«!!«!#   ‹!«!Œ!«!!«!       !«!$   ‹!«!!«!%   ‹!«!!«!&   !«!$   !«!'   !«!%   !«!
   Œ!«!!«!       !«!$   ‹!«!!«!%   ‹!«!!«!(   !«!	   Œ!«!!«!       !«!$   ‹!«!!«!%   ‹!«!!«!)   !«!   Œ!«!!«!       !«!$   ‹!«!!«!%   ‹!«!!«!*   !«!#   Œ!«!!«!         <  cb  4  cb     Œ  @ e   ³!«!Œ!«!ÿÿÿÿ               Œ!«!!«!           I  o  ?  o     ™     ³!«!Œ!«!ÿÿÿÿ      W   X            !«!/   Œ!«!!«!        !«!Y   !«!<   !«!Z   !«![   Œ!«!!«!        !«!\   !«!]   !«!^   !«!_   !«!`   !«!a   !«!b   !«!c   !«!d   !«!e   !«!f   !«!g   !«!h   !«!i   !«!j   !«!k   š˜;øÆ  M                            -     ÑÃ  ÔÓÃ  Ô·  F   –   ‘   Ô·  G‘   ”   ‘   ·  G“   ‘   5   ‘   Ã   Ô¸   ·  ¸   s Ô·  ·   I   Ô·  ÖF   Ùs  Ô·     I   Ô·  5   I   Ô·  	   I
   Ô·  ·   F   —   ‘   Ôµ   F   ‘   I   Ô·  F   ”   ‘   µ   }   Ø  ~ ¡‘   ·  ·   F   I   Ô·  ·   F   I   Ô·  F   –   ‘    Ô·  F   ‘"   ”   ‘#   µ   }   Ø  ~ ¡‘%   ·  µ   ÖF   Ù·  F   ”   ‘)   ·  F   “   ‘*   ¸
  ‘*   o GI   ÔŸ,	`P– · )`P/P$	.+P$///­ %” `P/P)0`P“  “ .” ™ `P/P)2`PÀ P+GP    Ê5Œ!«!!«!       !«!+   ‹!«!!«!,   ‹!«!!«!   !«!+   Œ!«!!«!       
,   Ÿ  B  —  B     ï    	   ³!«!Œ!«!ÿÿÿÿ              !«!`   !«!   !«!   !«!‘   !«!’   !«!~   !«!“   !«!   š˜;ø˜   #                                   µ   F   —*   ‘   Ôµ   F   —   ‘   Ôµ   F   ‘   –V   ‘   Ôµ   –D   ‘   Ôµ   –   ‘   Ôµ   ‘   –   ‘   Ô¸  ÖF   Ùo  ‘   œŸ `P  Æ X ’  ‘ —  ,P*Q   Ê5!«!,   Œ!«!!«!       !«!+   ‹!«!!«!,   ‹!«!!«!8   Œ!«!!«!      
,    e  Ö  ]  Ö     µ  B   ³!«!Œ!«!ÿÿÿÿ                   W   X         !«!/   !«!‡   Œ!«!!«!    	   ˆ   Î  Ò  Æ  Ò             Ê5!«!;   !«![   !«!Z   !«!   !«!T   !«!‰   !«!b   !«!Š   !«!ƒ   !«!}   !«!‹   !«!U   !«!Œ   Œ!«!!«!           ô  <  ì  <     D       ³!«!Œ!«!ÿÿÿÿ              !«!;   !«![   !«!b   !«!£   !«!T   !«!¤   !«!o   !«!p   !«!Y   !«!¥   !«!3   !«!¦   !«!/   !«!’   Œ!«!!«!      §   Ì  ä  Ä  ä            ³!«!Œ!«!ÿÿÿÿ                  !«!Y   !«!¥   š˜;ø                                     ¶   ¸   F   F   s ÔŸ `P“ P$P    Ê5Œ!«!!«!    	  §   ú    ò       J        Ê5!«!¨   š˜;øT  ;                              "        ¸   F   ”:   ‘   ¸   ÖF   Ùs  Ô¸    µ   }   Ø  ~ o “  ‘   ¸   ÖF   Ù   s Ô¸   F   –   ‘   Ô¸   F   ‘   ”¥   ‘   ¸   F	   –J   ‘   Ô¸   F	   F
   –0   ‘   Ôµ   ÖF   Ù¸   F	   F
   o F   ‘   ”!   ‘   µ   }f   Ø  ~ “   ‘   µ   }f   Ø  ~ ‘   “%   ‘   ¸    µ   }   Ø  ~ o ‘"   œŸ `Pš ,P$
• P#ÿÿÿşP-"‘ P$'ù 1P§ Pœ .P§ 7P#ÿÿÿşP( Q    Ê5Œ!«!!«!         K  ™  C  ™     ›    '   ³!«!Œ!«!ÿÿÿÿ
                               	       	   !«!;   !«![   !«!b   !«!£   !«!i   !«!©   !«!ª   !«!›   !«!t   !«!«   !«!¬   !«!­   !«!®   Œ!«!!«!        !«!¯   Œ!«!!«!        !«!°   !«!]   !«!„   !«!\   !«!^   !«!T   !«!±   !«!}   !«!/   !«!²   !«!š   !«!³   !«!´   !«!µ   Œ!«!!«!       !«!¶   ‹!«!!«!+   ‹!«!!«!·   ‹!«!!«!¶   !«!+   !«!O   !«!·   !«!n   !«!=   !«!G   š˜;ør                    	          V       ¸   F   ”6   ‘   ¸   ÖF   Ùs  Ô¸    µ   }   Ø  ~ o œ‘   µ   ÖF   Ù¸	  o ”6   ‘   ¸   ÖF   Ùs  Ô¸    µ   }   Ø  ~ o œ‘   ¸   µ   ÖF   Ù	   o —   ‘   Ôµ   ÖF   Ù
   o ‘   I	   Ô¸   F	   ”6   ‘   ¸   ÖF   Ùs  Ô¸    µ   }   Ø  ~ o œ‘!   ¶  F   Ã   Ô¶  F   Ã  Ô·  ”   ‘%   5   “   ‘&   ·  ‘&   Ã  Ô¶  F   Ã  Ô·  ”   ‘)   5   “   ‘*   ·  ‘*   Ã  Ô¶  F   Ã  Ô·  ”   ‘-      “   ‘-   ·  ‘-   Ã  Ô¶  F   Ã  Ô¸   ·  I   Ô¸   ·  I   Ô¸   ÖF   Ù   ·  s Ô·  ¸   F   GÃ  Ô·  —%   ‘6   Ô·  F   —   ‘9   Ô·   ‘:   ”h   ‘;   ¸   ÖF   Ùs  Ô¸   ÖF   Ù   ÖF   Ù¸   F      o ·  s Ô¸    µ   }   Ø  ~ o œ‘E   ¸   ÖF   Ù   ¸   F   ·  s Ô¸   5   ¸   F   8    ¸   F   8!   ¸   ÖF"   Ù·  ·   o 8#   I$   Ô¸   ÖF%   Ùs  Ô¸   ÖF&   Ù¸   ¸   F$   s ÔŸ `Pš `P ,P$
• P#ÿÿÿşP#€ &ÿÿı`P‘ 	P-`P ,P$
• P#ÿÿÿşP#€ Ì&ÿÿı[`P– PŸ !P.• 	`P ,P$
• P#ÿÿÿşP#€ <&ÿÿıí`P-`P-`P® `P-`P® `P-`P® `P-`P//• P$/`P” `P • ” `P ,P$
§ P'ÿÿÿìP$;• P#ÿÿÿşP#€  ë&ÿÿÿ>`PŸ P$A*//” 	P.,P$› P$"P    Ê5!«!   Œ!«!!«!    	     ©  Ô  ¡  Ô     ù        Ê5š˜;øÂ  e                     	       (    ÑÃ  ÔÓÃ  Ô·  Ä   Ô·  F   –   ‘   Ô¶  ‘   ”   ‘   ¶  “   ‘      ‘   Ã   Ô·  F   –   ‘   Ô¶ ‘	   ”   ‘
   ¶ “   ‘
   f   ‘
   Ä   Ô   ·  F   –   ‘   Ô·     I   ‘   Ô¸  ÖF   Ùo  ”I   ‘   ·  ÖF   Ù	   s Ô·  ÖF   Ùs  Ô¸    µ
   }   Ø  ~ o œ‘   ·  ·  F   —   ‘   Ô·   —   ‘   Ô   ‘   I   Ô·  ÖF   Ù   ·  F   s Ô·  ÖF   Ùo  ÖF   Ùf   o ÖF   Ùf   o ÖF   Ùf   s ÔŸ,`P*`P– ± `P– ² `P® 0,P.`P  P$+P$
• P#ÿÿÿşP#€ ‡&ÿÿú¡`P· -™ P$&+P/P/€ WP/€ ]P$:P  Ê5Œ!«!!«!       !«!+   ‹!«!!«!,   ‹!«!!«!9   Œ!«!!«!    	   
,   ò  Ñ"  ê  Ñ"     B       Ê5Œ!«!!«!       !«!+   ‹!«!!«!,   ‹!«!!«!:   Œ!«!!«!       
,   í"  æ&  å"  æ&     ="   '   ³!«!Œ!«!ÿÿÿÿ   X            !«!;   !«![   !«!:   !«!T   !«!¹   !«!s   !«!k   !«!º   !«!t   !«!»   !«!¼   !«!½   !«!e   !«!a   !«!¾   !«!`   !«!¿   !«!À   !«!Á   !«!Â   !«!Ã   !«!Ä   !«!Å   !«!Æ   !«!Ç   !«!È   !«!É   !«!Ê   !«!Ë   !«!Ì   !«!Í   !«!q   !«!i   !«!Î   !«!r   ³!«!!«!                   !«!–   !«!—   š˜;ø²  m                          Q     ÓÃ   Ô   ·   F   –Q   ‘   Ô   ·   F   –7   ‘   Ô·      I   Ô·   ÖF   Ù   s Ô·   F   ‘
   ”A  ‘   ¤·   F   ÖF   Ù·   F   s Ô·   F	   –,   ‘   Ô·   F	   ÖF
   Ù   ·   F   o ‘   Ô·   F   ”¿   ‘   ·   F   ÖF   Ùµ   F   F   F   ·   F   s Ô·   F   ÖF   Ùµ   F   F   F   ·   F   s Ô·   F   ÖF   Ùµ   F   F   F   ·   F   s Ôµ   ÖF
   Ù   ·   F   s “o   ‘3   ·   F   ÖF
   Ù   ·   F   s Ô·   F   ÖF
   Ù   ·   F   s Ô·   F   ÖF
   Ù   ·   F   s ‘?   Ô·   F    –(   ‘A   Ôµ!   F"   ÖF   Ù·   F    o ‘F   Ô·   F#   –3   ‘H   Ôµ!   F"   ÖF   Ù·   F#   s Ô·   I#   ‘N   Ô“-   ‘N    ¦«¬  Ô¬  Ôµ%   ÖF&   Ù·  s ÔÈ‘Q   Ÿ&`P´ 2/ P$™ `P™ P$² P)9“ ­ P$Q­ P$Q­ P$Nš P-: P$E P$C P)O® P)” š P$ +`P P*P   $   Œ      ÿÿÿÿ        v     Ê5Œ!«!!«!       !«!+   ‹!«!!«!,   ‹!«!!«!;   Œ!«!!«!       
,   '  '  ı&  '     U&      ³!«!Œ!«!ÿÿÿÿ   X            !«!;   !«![   !«!T   !«!¸   !«!:   !«!<   !«!k   š˜;ør   !                                 ÓÃ   Ô   ·   F   –V   ‘   Ô·   ÖF   Ù   s Ô·   ÖF   Ùs  Ô·   ÖF   Ùs  Ô·      I   Ô·   I   ‘   ÔŸ&`Pš  P$+P$+P$/ P    Ê5Œ!«!!«!       !«!+   ‹!«!!«!,   ‹!«!!«!<   Œ!«!!«!       
,   ±'  ©)  ©'  ©)     '      ³!«!Œ!«!ÿÿÿÿ   X            !«!n   !«!o   !«!p   !«!q   !«!r   !«!s   !«!t   !«!u   !«!v   !«!w   !«!x   !«!y   !«!z   !«!{   !«!|   !«!}   !«!~   !«!   !«!€   !«!]   !«!   !«!‚   !«!ƒ   !«!Y   !«!„   !«!…   !«!†   š˜;øe  >                            %     ÓÃ   Ô·   I   Ô·   I   Ô·   I   Ô·   I   Ô·   I   Ô·   I   Ô·   I   Ô·   I   Ô·   I	   Ô·   I
   Ô·   I   Ô·   a    I   Ô·   I   Ô·   I   Ô·   I   Ô·   I   Ô·   µ   ÖF   Ù   o —   ‘   Ô   ‘   I   Ô·   µ   ÖF   Ù   o —   ‘   Ô   ‘   I   Ô·   ·   F   F   —%   ‘    Ô   µ   ÖF   Ù   o ‘$   I   ÔŸ&`P+++++++++++/+++ +• P • P $ ± (P/P Ê5Œ!«!!«!       !«!+   ‹!«!!«!,   ‹!«!!«!=   Œ!«!!«!    	   
,   Î)  M*  Æ)  M*     )       Ê5Œ!«!!«!       !«!+   ‹!«!!«!,   ‹!«!!«!>   Œ!«!!«!    	  
,   s*  ê+  k*  ê+     Ã)       Ê5Œ!«!!«!       !«!+   ‹!«!!«!,   ‹!«!!«!?   Œ!«!!«!    	   
,   ,  -  
,  -     b+       Ê5Œ!«!!«!       !«!+   ‹!«!!«!,   ‹!«!!«!@   Œ!«!!«!    	  
,   '-  8.  -  8.     w,       Ê5Œ!«!!«!       !«!+   ‹!«!!«!,   ‹!«!!«!A   Œ!«!!«!    	  
,   Z.  Ì.  R.  Ì.     ª-        Ê5Œ!«!!«!       !«!+   ‹!«!!«!,   ‹!«!!«!B   Œ!«!!«!    	  
,   ï.  n/  ç.  n/     ?.        Ê5Œ!«!!«!       !«!+   ‹!«!!«!,   ‹!«!!«!C   Œ!«!!«!    	  
,   /  0  …/  0     İ.        Ê5Œ!«!!«!       !«!+   ‹!«!!«!,   ‹!«!!«!D   Œ!«!!«!    	  
,   ;0  7  30  7     ‹/       Ê5Œ!«!!«!       !«!+   ‹!«!!«!,   ‹!«!!«!E   Œ!«!!«!    	   
,   ,7  ±9  $7  ±9     P6  B    Œ!«!  Á8  ¯9  ¹8  ¯9     å7        Ê5!«!   !«!   !«!   !«!   Ê5Œ!«!!«!       !«!+   ‹!«!!«!,   ‹!«!!«!F   Œ!«!!«!    	   
,   Ø9  *>  Ğ9  *>     ü8  B    Œ!«!  „=  Ï=  |=  Ï=     ¨<        Ê5Š!«!Š!«!Š!«!Š!«!Š!«!!«!	   Ê5Œ!«!!«!       !«!+   ‹!«!!«!,   ‹!«!!«!G   Œ!«!!«!    	  
,   \>  !@  T>  !@     €=  B    Œ!«!   š>  ß?  ’>  ß?     ¾=       Œ!«!  Î>  ›?  Æ>  ›?     ò=        Ê5Œ!«!  «?  İ?  £?  İ?     Ï>        Ê5Ê5Œ!«!   ö?  ú?  î?  ú?     ?        Ê5!«!    !«!   !«!   Ê5Œ!«!!«!       !«!+   ‹!«!!«!,   ‹!«!!«!H   Œ!«!!«!    	   
,   H@  A  @@  A     l?       Ê5Œ!«!!«!       !«!+   ‹!«!!«!,   ‹!«!!«!I   Œ!«!!«!    	  
,   @A  *C  8A  *C     d@       Ê5Œ!«!!«!       !«!+   ‹!«!!«!,   ‹!«!!«!J   Œ!«!!«!    	  
,   TC  ND  LC  ND     xB       Ê5Œ!«!!«!       !«!+   ‹!«!!«!,   ‹!«!!«!K   Œ!«!!«!    	   
,   mD  O  eD  O     ‘C  B    Œ!«!  ÜM  œN  ÔM  œN      M        Ê5!«!   !«!
   Ê5Œ!«!!«!       !«!+   ‹!«!!«!,   ‹!«!!«!L   Œ!«!!«!    	   
,   4O  .Q  ,O  .Q     XN       Ê5Œ!«!!«!       !«!+   ‹!«!!«!,   ‹!«!!«!M   Œ!«!!«!    	   
,   [Q  ·Q  SQ  ·Q     P       Ê5Œ!«!!«!       !«!+   ‹!«!!«!,   ‹!«!!«!N   Œ!«!!«!    	   
,   ŞQ  rX  ÖQ  rX     Q  B    Œ!«!  0R  €R  (R  €R     TQ        Ê5Œ!«!  ªR  T  ¢R  T     ÎQ        Ê5Œ!«!  §T  ÊT  ŸT  ÊT     ËS        Ê5Œ!«!  ïT  U  çT  U     T        Ê5Œ!«!   *U  HU  "U  HU     NT        Ê5Œ!«!  ÆU  ãU  ¾U  ãU     êT        Ê5Œ!«!  V  *V  V  *V     1U        Ê5!«!   Ê5Œ!«!!«!       !«!+   ‹!«!!«!,   ‹!«!!«!O   Œ!«!!«!    	  
,   X  úY  –X  úY     ÂW      Œ!«!  uY  ŠY  mY  ŠY     ™X        Ê5Ê5Œ!«!!«!       !«!+   ‹!«!!«!,   ‹!«!!«!P   Œ!«!!«!    	   
,   !Z  øZ  Z  øZ     EY       Ê5Œ!«!!«!       !«!+   ‹!«!!«!,   ‹!«!!«!Q   Œ!«!!«!    	  
,   "[  `[  [  `[     FZ       Ê5Œ!«!!«!       !«!+   ‹!«!!«!,   ‹!«!!«!R   Œ!«!!«!    	   
,   ‹[  ]  ƒ[  ]     ¯Z       Ê5Œ!«!!«!       !«!+   ‹!«!!«!,   ‹!«!!«!S   Œ!«!!«!    	   
,   2]  †]  *]  †]     V\       Ê5Œ!«!!«!       !«!+   ‹!«!!«!,   ‹!«!!«!T   Œ!«!!«!       
,   §]  5^  Ÿ]  5^     Ë\  	   ³!«!Œ!«!ÿÿÿÿ                W   X            !«!/   !«!•   !«!„   !«!–   !«!—   !«!˜   !«!™   !«!š   š˜;øÍ   6                                ÑÃ  ÔÓÃ  Ô·  F   Ã  Ôµ   }·  Ø  ~ Ã  ÔÃ  Ô’   ·  ·  ”/   ‘   ·  ·  ·  ·  GKÔ·  .Ö'Ã  ÔÔ“Çÿÿÿ‘	   ·  F   –D   ‘   Ôµ   Ã   F   ÖF   Ù·   a      b    ÖF   Ù·  o q ‘   ÔŸ, `P.`P– `P&fP“ `P“ ÿÿÿü`P— `P² %• P#ÿÿÿæP)$P        6   >   Ê5Œ!«!!«!       !«!+   ‹!«!!«!,   ‹!«!!«!U   Œ!«!!«!       
,    ^^  µ_  V^  µ_     ‚]  B    ³!«!Œ!«!ÿÿÿÿ         X           !«!’   Œ!«!!«!          ^  ³_  „^  ³_     ²]  @    ³!«!Š!«!ÿÿÿÿ                ³!«!Œ!«!                       !«!i   !«!›   !«!œ   !«!š   !«!   !«!e   !«!`   !«!   !«!o   !«!Ÿ   !«!Y   !«!p   !«!    !«!¡   Œ!«!!«!   	   ¢   ¢_  ¬_  š_  ¬_     Æ^        Ê5š˜;øA  B                            $    µ   ÖF   Ù   ÖF   Ù   o o Ã   Ô¸  F   —$   ‘   Ôµ   F	   –   ‘
   Ô·   ‘
   ”˜   ‘   ¸  µ   F
   —/   ‘   Ôµ   F   —   ‘   Ô¸  F   F
   ‘   I
   Ô¸  µ   F   —   ‘   Ô¸  F   F   ‘   I   Ô¸    s  Ô“M   ‘   ¸  .(Ä  ”   ‘!   ¸       o œ‘"   µ   {   f   ôs Ô‘$   Ÿ `P P#ÿÿÿîP(;`P½ )`P%Å (%° V.`P˜ `P +P$<&ÿÿÿİ`P’ 
P)P  Ê5š˜;ø,                                    ÓÃ   Ô·   Ä   Ô
Ä   Ôµ   }f   Ø  ~ œŸ&	`P*`P(`P/P#€ <Q  Ê5Œ!«!!«!       !«!+   ‹!«!!«!5   ‹!«!!«!V   Œ!«!!«!    	   
5   Õ_  ]b  Í_  ]b     ù^       Ê5!«!5   š˜;øû  8                             d     f   Ä   Ô¸   ¸   a   5      8   f   8   b    s Ô¸   ¸   a   5      8   f	   8   b    5
      8   f   8   b   5      8   f   8   b   5      8   f   8   b   5      8   f   8   b   5      8   f   8   b   5      8   f   8   b   5      8   f   8   b   5       8   f!   8   b   5"   #   8   f$   8   b	   5%   &   8   f'   8   b
   5(   )   8   f*   8   b   5+   ,   8   f-   8   b   5.   /   8   f0   8   b   51   2   8   f3   8   b   54   5   8   f6   8   b   57   8   8   f9   8   b   5:   ;   8   f<   8   b   5=   >   8   f?   8   b   5@   A   8   fB   8   b   5C   D   8   fE   8   b   5F   G   8   fH   8   b   5I   J   8   fK   8   b   5L   M   8   fN   8   b   5O   P   8   fQ   8   b   5R   S   8   fT   8   b   5U   V   8   fW   8   b   5X   Y   8   fZ   8   b   5[   \   8   f]   8   b   5^   _   8   f`   8   b   5a   b   8   fc   8d   b   s Ô¸   œŸ+€ 3`P ‘ 
%*/ÿÿÿæP$€  Ï %*/€ %*/€ ï%*/€ 	%*/€  ™%*/€ %*/€  %*/€ ‡%*/€ %*/€ !%*/€  ‚%*/€  %*/€  —%*/€ µ%*/€ •%*/€ b%*!/€ Õ%*/€  Ø%*/€ ú%*/€ 
%*/€ 
·%*/€ 
%*/l%*/€ ¤%*/€ l%*/€  ç%*/N%*/€ “%*/d%*/€  %*/€ g%*/ÿÿ¯©P$€ Rï%Q   Ê5š˜;ø  ~                                   f   Ä   Ôf   Ä   Ôf   Ä   Ôf   Ä   Ôf    o  Ä   Ôf    o  Ä   Ô¸   f   I   Ô¸   f	   I
   Ôf   Ä   Ô   Ä 	  Ô   Ä 
  Ô   Ä   ÔèÄ   Ô   Ä   Ô5   8   8    8   Ä   Ô5   
      à?8   
š™™™™™É?8   
š™™™™™¹?8   Ä   Ô5   5      8      8   8   5      8      8   8   5      8       8   8!   5"      8   #   8   8$   Ä   Ôf%    o  œŸ¬ € S`P&€   P)`P&€ PP)`P €  … €  `P++`P+`P+"`P+`P)`P+
`P%''-`P%..” `P%%*/%*/%*/%*• `P&€ V
P#Q Ê5š˜;ø                                      f    0f   o ÔŸ@`P,€  ŸP%€ `íP Û†èD9      `.u)`.u)B¬Saù3   _    O^partitionKey=%28https%2Cbilibili.com%29,:https://i0.hdslb.com/bfs/static/pbp/pbp-3.6.2.min.js strongly-framed 1 security-info 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 request-method GET request-Accept-Encoding gzip, deflate, br response-head HTTP/2 200 OK
content-type: application/x-javascript
content-length: 25192
server: Tengine/2.1.1
etag: 71d23ac2ef33aa062e1708b5616786046e52600e
date: Mon, 01 Feb 2021 11:53:23 GMT
last-modified: Mon, 01 Feb 2021 19:53:07 GMT
expires: Tue, 01 Feb 2022 11:53:23 GMT
age: 1
cache-control: max-age=31536000
accept-ranges: bytes
access-control-allow-origin: *
access-control-allow-methods: GET, POST, OPTIONS
access-control-allow-credentials: true
access-control-allow-headers: Origin,No-Cache,X-Requested-With,If-Modified-Since,Pragma,Last-Modified,Cache-Control,Expires,Content-Type,Access-Control-Allow-Credentials,DNT,X-CustomHeader,Keep-Alive,User-Agent,X-Cache-Webcdn
vary: Origin,Accept-Encoding
access-control-expose-headers: Content-Length,X-Cache-Webcdn
x-hash: /bfs/static/pbp/pbp-3.6.2.min.js
x-cache-status: HIT from KS-CLOUD-HUZ-MP-04-16, HIT from KS-CLOUD-JN-UN-23-12
x-cache-webcdn: KS
x-cdn-request-id: 279b87eb9bb48fda2d63081d3e0ae375
X-Firefox-Spdy: h2
 original-response-headers content-type: application/x-javascript
content-length: 25192
server: Tengine/2.1.1
etag: 71d23ac2ef33aa062e1708b5616786046e52600e
date: Mon, 01 Feb 2021 11:53:23 GMT
last-modified: Mon, 01 Feb 2021 19:53:07 GMT
expires: Tue, 01 Feb 2022 11:53:23 GMT
age: 1
cache-control: max-age=31536000
accept-ranges: bytes
access-control-allow-origin: *
access-control-allow-methods: GET, POST, OPTIONS
access-control-allow-credentials: true
access-control-allow-headers: Origin,No-Cache,X-Requested-With,If-Modified-Since,Pragma,Last-Modified,Cache-Control,Expires,Content-Type,Access-Control-Allow-Credentials,DNT,X-CustomHeader,Keep-Alive,User-Agent,X-Cache-Webcdn
vary: Origin,Accept-Encoding
access-control-expose-headers: Content-Length,X-Cache-Webcdn
x-hash: /bfs/static/pbp/pbp-3.6.2.min.js
x-cache-status: HIT from KS-CLOUD-HUZ-MP-04-16
x-cache-status: HIT from KS-CLOUD-JN-UN-23-12
x-cache-webcdn: KS
x-cdn-request-id: 279b87eb9bb48fda2d63081d3e0ae375
X-Firefox-Spdy: h2
 ctid 2 uncompressed-len 0 net-response-time-onstart 189 net-response-time-onstop 190 alt-data 1;25192,javascript/moz-bytecode-20210204182252-8l1 alt-data-from-child 1  j